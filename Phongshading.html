<!DOCTYPE html>
<html style="background-color: rgba(188,190,192,1.0);">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¡ç®—æœºå›¾å½¢å­¦:æ˜æš—ç€è‰²å’Œçº¹ç†è´´å›¾</title>
    <link rel="stylesheet" type="text/css" href="css/Phongshading.css">
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§æ§åˆ¶é¢æ¿ -->
        <div class="control-panel">
            <h1 class="panel-title">WebGLåœºæ™¯æ§åˆ¶</h1>
            
            
            <!-- æ·»åŠ è´´å›¾ä¸Šä¼  -->
            <div class="control-section">
                <h2 class="section-title">
                    <span class="icon">ğŸ–¼ï¸</span>ä¸Šä¼ è´´å›¾
                </h2>
                <div class="control-item">
                    <input type="file" id="textureUpload" accept="image/*" style="width: 100%;">
                    <!--<div class="description">ä¸Šä¼ æ–¹å—è´´å›¾ (Té”®)</div>-->
                </div>
            </div>
            
            <div class="control-section">
                <h2 class="section-title">
                    <span class="icon">ğŸ’¡</span>å…‰æºæ§åˆ¶
                </h2>
                <div class="control-item">
                    <input type="color" id="lightColorPicker" value="#ffffff" style="width: 100%; height: 30px; border: none; border-radius: 4px; cursor: pointer;">
                    <!--<div class="description">ç‚¹å…‰æºé¢œè‰²</div>-->
                </div>
                <div class="control-item">
                    <div class="key">C</div>
                    <div class="description">ç‚¹å…‰æº</div>
                </div>
                <div class="control-item">
                    <div class="key">V</div>
                    <div class="description">å¹³è¡Œå…‰</div>
                </div>
                <div class="control-item">
                    <div class="key">Y</div>
                    <div class="description">æ‹‰å¤§å…‰æºè·ç¦»</div>
                </div>
                <div class="control-item">
                    <div class="key">U</div>
                    <div class="description">ç¼©å°å…‰æºè·ç¦»</div>
                </div>
                <div class="control-item">
                    <div class="key">W/S</div>
                    <div class="description">å…‰æºç»•Xè½´æ—‹è½¬</div>
                </div>
                <div class="control-item">
                    <div class="key">A/D</div>
                    <div class="description">å…‰æºç»•Yè½´æ—‹è½¬</div>
                </div>
            </div>
            
            <div class="control-section">
                <h2 class="section-title">
                    <span class="icon">ğŸ“·</span>ç›¸æœºæ§åˆ¶
                </h2>
                <div class="control-item">
                    <div class="key">I/K</div>
                    <div class="description">ç›¸æœºç»•Xè½´æ—‹è½¬</div>
                </div>
                <div class="control-item">
                    <div class="key">J/L</div>
                    <div class="description">ç›¸æœºç»•Yè½´æ—‹è½¬</div>
                </div>
                <div class="control-item">
                    <div class="key">, / .</div>
                    <div class="description">ç›¸æœºè¿œè¿‘ç§»åŠ¨</div>
                </div>
                <div class="control-item">
                    <div class="key">M/N</div>
                    <div class="description">æŠ•å½±è§’ç¼©æ”¾</div>
                </div>
            </div>
            
            <div class="control-section">
                <h2 class="section-title">
                    <span class="icon">ğŸ”„</span>ç³»ç»Ÿæ§åˆ¶
                </h2>
                <div class="control-item">
                    <div class="key">ç©ºæ ¼</div>
                    <div class="description">é‡ç½®å¤ä½</div>
                </div>
                <div class="control-item">
                    <div class="key">T</div>
                    <div class="description">ä¸Šä¼ è´´å›¾</div>
                </div>
                <div class="control-item">
                    <div class="key">F11</div>
                    <div class="description">å…¨å±åˆ‡æ¢</div>
                </div>
            </div>
            
            <div class="control-section">
                <h2 class="section-title">
                    <span class="icon">ğŸ–±ï¸</span>é¼ æ ‡æ§åˆ¶
                </h2>
                <div class="control-item">
                    <div class="key">å·¦é”®æ‹–æ‹½</div>
                    <div class="description">æ—‹è½¬ç›¸æœº</div>
                </div>
                <div class="control-item">
                    <div class="key">ä¸­é”®æ‹–æ‹½</div>
                    <div class="description">å¹³ç§»çƒå¿ƒ</div>
                </div>
                <div class="control-item">
                    <div class="key">å³é”®æ‹–æ‹½</div>
                    <div class="description">ç¼©æ”¾ç›¸æœº</div>
                </div>
            </div>
            
            <!-- åœ¨å…‰æºæ§åˆ¶éƒ¨åˆ†åé¢æ·»åŠ é›¾åŒ–æ§åˆ¶ -->
			<div class="control-section">
			    <h2 class="section-title">
			        <span class="icon">ğŸŒ«ï¸</span>é›¾åŒ–æ•ˆæœæ§åˆ¶
			    </h2>
			    <div class="control-item">
			        <div class="key">F</div>
			        <div class="description">åˆ‡æ¢é›¾åŒ–æ•ˆæœ</div>
			    </div>
			    <div class="control-item">
			        <div class="key">G</div>
			        <div class="description">å¢åŠ é›¾åŒ–æµ“åº¦</div>
			    </div>
			    <div class="control-item">
			        <div class="key">H</div>
			        <div class="description">å‡å°‘é›¾åŒ–æµ“åº¦</div>
			    </div>
			</div>
            
        </div>
        
        <!-- å³ä¾§æ¸²æŸ“åŒºåŸŸ -->
        <div class="render-area">
            <canvas id="canvas">Oops ... your browser doesn't support the HTML5 canvas element</canvas>
            <button class="fullscreen-btn" id="fullscreen-btn" title="å…¨å±æ˜¾ç¤º">â›¶</button>
        </div>
    </div>
    
    <img id="cubeTexImage" src="img/container.png" hidden>
    <img id="planeTexImage" src="img/wood.png" hidden>
    
    <script>
        // å…¨å±åŠŸèƒ½å®ç°
        document.getElementById('fullscreen-btn').addEventListener('click', toggleFullscreen);
        
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`å…¨å±è¯·æ±‚é”™è¯¯: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }
        
        // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–
        document.addEventListener('fullscreenchange', updateFullscreenButton);
        
        function updateFullscreenButton() {
            const btn = document.getElementById('fullscreen-btn');
            if (document.fullscreenElement) {
                btn.innerHTML = 'â›¶'; // é€€å‡ºå…¨å±å›¾æ ‡
                btn.title = 'é€€å‡ºå…¨å±';
            } else {
                btn.innerHTML = 'â›¶'; // è¿›å…¥å…¨å±å›¾æ ‡
                btn.title = 'å…¨å±æ˜¾ç¤º';
            }
        }
        
        // é¢œè‰²é€‰æ‹©å™¨äº‹ä»¶
        document.getElementById('lightColorPicker').addEventListener('input', function(e) {
            const color = e.target.value;
            // è¿™é‡Œå°†åœ¨Phongshading.jsä¸­å¤„ç†
            if (window.updateLightColor) {
                window.updateLightColor(color);
            }
        });
        
        // è´´å›¾ä¸Šä¼ äº‹ä»¶
        document.getElementById('textureUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                if (window.uploadTexture) {
                    window.uploadTexture(file);
                }
            }
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®F11æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F11') {
                e.preventDefault();
                toggleFullscreen();
            }
        });
    </script>
    
    <!-- åŸæœ‰çš„WebGLè„šæœ¬ -->
    <script type="text/javascript" src="./Common/webgl-utils.js"></script>
    <script type="text/javascript" src="./Common/initShaders2.js"></script>
    <script type="text/javascript" src="./Common/MVnew.js"></script>
    <script type="text/javascript" src="./js/Models.js"></script>
    <script type="text/javascript" src="./js/configMaterialParameters.js"></script>
    <script type="text/javascript" src="./js/configTexture.js"></script>
    <script type="text/javascript" src="./js/Phongshading.js"></script>
</body>
</html>